{"ast":null,"code":"import { ADD_PRODUCT_TO_CART, REMOVE_PRODUCT_FROM_CART } from './actions';\nconst initialState = {\n  products: [{\n    id: 'p1',\n    title: 'Men Atwood Canvas Trainers',\n    image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis1.jpg\",\n    price: 29.99\n  }, {\n    id: 'p2',\n    title: 'Mens Speedcross 4 Trail Running Shoes',\n    image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis2.jpg\",\n    price: 12.99\n  }, {\n    id: 'p3',\n    title: 'Mens Tazon 6 FM Running Shoes',\n    image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg\",\n    price: 10.99\n  }, {\n    id: 'p4',\n    title: 'Mens Status 2.0 Pexton Boat Shoes',\n    image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg\",\n    price: 42.99\n  }],\n  cart: []\n};\n\nconst shopReducer = (state = initialState, action) => {\n  let updatedCart;\n  let updatedItemIndex;\n\n  switch (action.type) {\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push({ ...action.payload,\n          quantity: 1\n        });\n      } else {\n        const updatedItem = { ...updatedCart[updatedItemIndex]\n        };\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload);\n      const updatedItem = { ...updatedCart[updatedItemIndex]\n      };\n      updatedItem.quantity--;\n\n      if (updatedItem.quantity <= 0) {\n        updatedCart.splice(updatedItemIndex, 1);\n      } else {\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return { ...state,\n        cart: updatedCart\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/girardi.gui/Desktop/Projects/class-component-redux/src/store/reducers.js"],"names":["ADD_PRODUCT_TO_CART","REMOVE_PRODUCT_FROM_CART","initialState","products","id","title","image","price","cart","shopReducer","state","action","updatedCart","updatedItemIndex","type","findIndex","item","payload","push","quantity","updatedItem","splice"],"mappings":"AAAA,SAASA,mBAAT,EAA8BC,wBAA9B,QAA8D,WAA9D;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,EAAE,EAAE,IADN;AAEEC,IAAAA,KAAK,EAAE,4BAFT;AAGEC,IAAAA,KAAK,EAAE,2EAHT;AAIEC,IAAAA,KAAK,EAAE;AAJT,GADQ,EAOR;AACEH,IAAAA,EAAE,EAAE,IADN;AAEEC,IAAAA,KAAK,EAAE,uCAFT;AAGEC,IAAAA,KAAK,EAAE,2EAHT;AAIEC,IAAAA,KAAK,EAAE;AAJT,GAPQ,EAaR;AACEH,IAAAA,EAAE,EAAE,IADN;AAEEC,IAAAA,KAAK,EAAE,+BAFT;AAGEC,IAAAA,KAAK,EAAE,2EAHT;AAIEC,IAAAA,KAAK,EAAE;AAJT,GAbQ,EAmBR;AACEH,IAAAA,EAAE,EAAE,IADN;AAEEC,IAAAA,KAAK,EAAE,mCAFT;AAGEC,IAAAA,KAAK,EAAE,2EAHT;AAIEC,IAAAA,KAAK,EAAE;AAJT,GAnBQ,CADS;AA2BnBC,EAAAA,IAAI,EAAE;AA3Ba,CAArB;;AA8BA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAkC;AACpD,MAAIC,WAAJ;AACA,MAAIC,gBAAJ;;AAEA,UAAQF,MAAM,CAACG,IAAf;AAEE,SAAKd,mBAAL;AACEY,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CAAuBC,IAAI,IAAIA,IAAI,CAACZ,EAAL,KAAYO,MAAM,CAACM,OAAP,CAAeb,EAA1D,CAAnB;;AAEA,UAAIS,gBAAgB,GAAG,CAAvB,EAA0B;AACxBD,QAAAA,WAAW,CAACM,IAAZ,CAAiB,EAAE,GAAGP,MAAM,CAACM,OAAZ;AAAqBE,UAAAA,QAAQ,EAAE;AAA/B,SAAjB;AACD,OAFD,MAEO;AACL,cAAMC,WAAW,GAAG,EAAE,GAAGR,WAAW,CAACC,gBAAD;AAAhB,SAApB;AACAO,QAAAA,WAAW,CAACD,QAAZ;AACAP,QAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCO,WAAhC;AACD;;AACD,aAAO,EAAE,GAAGV,KAAL;AAAYF,QAAAA,IAAI,EAAEI;AAAlB,OAAP;;AAEF,SAAKX,wBAAL;AACEW,MAAAA,WAAW,GAAG,CAAC,GAAGF,KAAK,CAACF,IAAV,CAAd;AACAK,MAAAA,gBAAgB,GAAGD,WAAW,CAACG,SAAZ,CAAuBC,IAAI,IAAIA,IAAI,CAACZ,EAAL,KAAYO,MAAM,CAACM,OAAlD,CAAnB;AACA,YAAMG,WAAW,GAAG,EAAE,GAAGR,WAAW,CAACC,gBAAD;AAAhB,OAApB;AACAO,MAAAA,WAAW,CAACD,QAAZ;;AAEA,UAAIC,WAAW,CAACD,QAAZ,IAAwB,CAA5B,EAA+B;AAC7BP,QAAAA,WAAW,CAACS,MAAZ,CAAmBR,gBAAnB,EAAqC,CAArC;AACD,OAFD,MAEO;AACLD,QAAAA,WAAW,CAACC,gBAAD,CAAX,GAAgCO,WAAhC;AACD;;AACD,aAAO,EAAE,GAAGV,KAAL;AAAYF,QAAAA,IAAI,EAAEI;AAAlB,OAAP;;AAEF;AACE,aAAOF,KAAP;AA7BJ;AAgCD,CApCD;;AAsCA,eAAeD,WAAf","sourcesContent":["import { ADD_PRODUCT_TO_CART, REMOVE_PRODUCT_FROM_CART } from './actions';\n\nconst initialState = {\n  products: [\n    {\n      id: 'p1',\n      title: 'Men Atwood Canvas Trainers',\n      image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis1.jpg\",\n      price: 29.99\n    },\n    {\n      id: 'p2',\n      title: 'Mens Speedcross 4 Trail Running Shoes',\n      image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis2.jpg\",\n      price: 12.99\n    },\n    {\n      id: 'p3',\n      title: 'Mens Tazon 6 FM Running Shoes',\n      image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg\",\n      price: 10.99\n    },\n    {\n      id: 'p4',\n      title: 'Mens Status 2.0 Pexton Boat Shoes',\n      image: \"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg\",\n      price: 42.99\n    }\n  ],\n  cart: []\n};\n\nconst shopReducer = (state = initialState, action) => {\n  let updatedCart;\n  let updatedItemIndex;\n\n  switch (action.type) {\n\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex( item => item.id === action.payload.id );\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push({ ...action.payload, quantity: 1 });\n      } else {\n        const updatedItem = { ...updatedCart[updatedItemIndex] };\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n      return { ...state, cart: updatedCart };\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = [...state.cart];\n      updatedItemIndex = updatedCart.findIndex( item => item.id === action.payload );\n      const updatedItem = { ...updatedCart[updatedItemIndex] };\n      updatedItem.quantity--;\n\n      if (updatedItem.quantity <= 0) {\n        updatedCart.splice(updatedItemIndex, 1);\n      } else {\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n      return { ...state, cart: updatedCart};\n\n    default:\n      return state;\n\n  }\n};\n\nexport default shopReducer;\n\n"]},"metadata":{},"sourceType":"module"}